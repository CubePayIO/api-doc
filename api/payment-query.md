# payment/query

> Query payment information by specific identity.
>
> It is useful for checking order progress or double confirm the finishd order.

Payment Status define as

| Status code | Status message |
| :--- | :--- |
| -1 | canceled |
| 0 | init |
| 1 | paying |
| 2 | paid |
| 3 | cryptocurrency sended |
| 4 | completed |
| 5 | refunding |
| 6 | refunded |

{% api-method method="post" host="API\_URL" path="/payment/query" %}
{% api-method-summary %}
Query payment information
{% endapi-method-summary %}

{% api-method-description %}
**Request**  
  
`id` or `merchant_transaction` must required at least one.  
  
**Response**  
  
`id` : CubePay payment ID.  
  
`status` : Payment status code.  
  
`status_meaasge` : Payment status message.  
  
`pay_url` : You can redirect customer to this URL for payment, the page content a blockchain address, QR  
`pay_info` : \[_Object_ \]{\_\_  
{}`refund_info` : \[Object\] If the payment has finish and refund, response the refund info.{  
`amount` : Amount of refund.}
{% endapi-method-description %}

{% api-method-spec %}
{% api-method-request %}
{% api-method-form-data-parameters %}
{% api-method-parameter name="id" type="string" required=false %}
CubePay payment ID
{% endapi-method-parameter %}

{% api-method-parameter name="merchant\_transaction\_id" type="string" required=false %}
Transaction ID generated by your shop.If your transaction is not unique, it'll return the last one record.
{% endapi-method-parameter %}

{% api-method-parameter name="client\_id" type="string" required=true %}
Client ID of the merchant.
{% endapi-method-parameter %}

{% api-method-parameter name="sign" type="string" required=true %}
Sign string hash by client\_id and other parameters.
{% endapi-method-parameter %}
{% endapi-method-form-data-parameters %}
{% endapi-method-request %}

{% api-method-response %}
{% api-method-response-example httpCode=200 %}
{% api-method-response-example-description %}

{% endapi-method-response-example-description %}

```javascript
{
    "data": [
        {
            "id": "C1536292666260718848",
            "status": 6,
            "status_message": "Refunded",
            "pay_url": "http://cubepay.io/payment/pay?id=C1536292666260718848",
            "pay_info": {
                "coin": {
                    "id": 3,
                    "symbol": "USDT",
                    "name": "USDT",
                    "image": "http://common.cubepay.io/uploads/coin/1534500017.png",
                    "description": "USDT"
                },
                "address": "0x08ab6fed4cc9780a383f36ce3f166db6fd0aa910",
                "qrcode": "http://common.cubepay.io/tool/qrcode/0x08ab6fed4cc9780a383f36ce3f166db6fd0aa910.png",
                "amount": 100,
                "paid_amount": 100,
                "merchant_transaction_id": "1536292098",
                "item_name": "Test item name",
                "source_coin": {
                    "id": 3,
                    "symbol": "USDT",
                    "name": "USDT",
                    "image": "http://common.cubepay.io/uploads/coin/1534500017.png",
                    "description": "USDT"
                },
                "source_amount": 100,
                "rate": 1,
                "send_coin": {
                    "id": 502,
                    "symbol": "TOKEN1",
                    "name": "Token1 Test",
                    "image": "http://common.cubepay.io/images/coin.png",
                    "description": "TOKEN1"
                },
                "send_amount": 5000,
                "receive_address": "0x5A0DA1fD7f6b084A81F07fb9d641D295b2E7e669"
            },
            "refund_info": {
                "amount": "89.700000",
                "to_address": "0x5A0DA1fD7f6b084A81F07fb9d641D295b2E7e669"
            }
        }
    ],
    "status": 200
}
```
{% endapi-method-response-example %}
{% endapi-method-response %}
{% endapi-method-spec %}
{% endapi-method %}

